import{d as p,m as C,o as d,g as x,w as u,h as m,x as y,b as v,y as _,a as c,c as g,z as h,A as f,B as w,C as M,q as $,v as b,s as S,T as B,D as k}from"./index.9c5cd5ff.js";const I={store:"cooking",index:{id:!0,name:!1},key:"id"},P={store:"story",index:{id:!0,name:!1},key:"id"};const E={class:"v-dialog-confirm-content"},L=["innerHTML"],H={key:1},N={__name:"confirm",props:{title:{type:String,default:"\u786E\u8BA4"},message:{type:String,default:""},dangerouslyUseHTMLString:{type:Boolean,default:!1},root:{type:HTMLElement,required:!0}},emits:["confirm"],setup(e,{emit:s}){const i=e,o=p(!1);function t(r){s("confirm",r),l()}function l(){o.value=!1,f(null,i.root)}return C(()=>{o.value=!0}),(r,n)=>(d(),x(h,{"class-name":"v-dialog-confirm","append-to-body":!1,width:"500px",modelValue:o.value,"onUpdate:modelValue":n[2]||(n[2]=a=>o.value=a),onClose:n[3]||(n[3]=a=>t(-1))},{header:u(()=>[m(y(e.title),1)]),footer:u(()=>[v(_,{type:"primary",size:"small",onClick:n[0]||(n[0]=a=>t(1))},{default:u(()=>[m("\u786E\u5B9A")]),_:1}),v(_,{size:"small",onClick:n[1]||(n[1]=a=>t(0))},{default:u(()=>[m("\u53D6\u6D88")]),_:1})]),default:u(()=>[c("div",E,[e.dangerouslyUseHTMLString?(d(),g("span",{key:0,innerHTML:e.message},null,8,L)):(d(),g("span",H,y(e.message),1))])]),_:1},8,["modelValue"]))}};const V=c("i",{class:"v-tip-icon"},null,-1),q={class:"v-tip-content"},z={__name:"tip",props:{type:{type:String,default:"warn"},message:{type:String,required:!0},root:{type:HTMLElement,required:!0},duration:{type:Number,default:3e3}},setup(e){const s=e,i=p(),o=p(!1);let t=null;const{nextZIndex:l}=w();function r(){clearTimeout(t),t=null,o.value=!1}function n(){t=setTimeout(r,s.duration)}function a(){clearTimeout(t)}function T(){f(null,s.root)}return M(()=>{i.value.style.setProperty("--index-global",l()),o.value=!0,n()}),(D,U)=>(d(),x(B,{name:"fade",onAfterLeave:T},{default:u(()=>[$(c("div",{ref_key:"tipRef",ref:i,class:S(`v-tip v-tip-${e.type}`),onMouseenter:a,onMouseleave:n},[V,c("div",q,y(e.message),1)],34),[[b,o.value]])]),_:1}))}},R=({message:e="",title:s="\u786E\u8BA4",dangerouslyUseHTMLString:i=!1})=>new Promise((o,t)=>{function l(a){a===1?o(a):t(a)}const r=document.createElement("div"),n=k(N,{message:e,title:s,dangerouslyUseHTMLString:i,onConfirm:l,root:r});f(n,r),document.body.appendChild(r.firstElementChild)}),Z=({message:e,type:s="warn",duration:i})=>{if(!e)return;({warn:!0,success:!0,error:!0,info:!0})[s]||(s="warn");const t=document.createElement("div"),l=k(z,{message:e,type:s,duration:i,root:t});f(l,t),document.body.appendChild(t.firstElementChild)};export{R as a,I as c,P as s,Z as t};
