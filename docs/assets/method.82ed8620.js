import{f as m,g as C,o as c,h,w as u,e as v,t as p,b as y,_,a as d,c as g,i as k,j as f,u as w,k as M,l as $,v as b,n as S,T as E,m as T}from"./index.b948b142.js";const L={class:"v-dialog-confirm-content"},B=["innerHTML"],H={key:1},N=v("\u786E\u5B9A"),V=v("\u53D6\u6D88"),q={__name:"confirm",props:{title:{type:String,default:"\u786E\u8BA4"},message:{type:String,default:""},dangerouslyUseHTMLString:{type:Boolean,default:!1},root:{type:HTMLElement,required:!0}},emits:["confirm"],setup(t,{emit:s}){const a=t,o=m(!1);function e(r){s("confirm",r),l()}function l(){o.value=!1,f(null,a.root)}return C(()=>{o.value=!0}),(r,n)=>(c(),h(k,{"class-name":"v-dialog-confirm","append-to-body":!1,width:"500px",modelValue:o.value,"onUpdate:modelValue":n[2]||(n[2]=i=>o.value=i),onClose:n[3]||(n[3]=i=>e(-1))},{header:u(()=>[v(p(t.title),1)]),footer:u(()=>[y(_,{type:"primary",size:"small",onClick:n[0]||(n[0]=i=>e(1))},{default:u(()=>[N]),_:1}),y(_,{size:"small",onClick:n[1]||(n[1]=i=>e(0))},{default:u(()=>[V]),_:1})]),default:u(()=>[d("div",L,[t.dangerouslyUseHTMLString?(c(),g("span",{key:0,innerHTML:t.message},null,8,B)):(c(),g("span",H,p(t.message),1))])]),_:1},8,["modelValue"]))}};const z=d("i",{class:"v-tip-icon"},null,-1),U={class:"v-tip-content"},D={__name:"tip",props:{type:{type:String,default:"warn"},message:{type:String,required:!0},root:{type:HTMLElement,required:!0},duration:{type:Number,default:3e3}},setup(t){const s=t,a=m(),o=m(!1);let e=null;const{nextZIndex:l}=w();function r(){clearTimeout(e),e=null,o.value=!1}function n(){(!e||s.type!=="success")&&(e=setTimeout(r,s.duration))}function i(){e&&s.type!=="success"&&clearTimeout(e)}function x(){f(null,s.root)}return M(()=>{a.value.style.setProperty("--index-global",l()),o.value=!0,n()}),(I,P)=>(c(),h(E,{name:"fade",onAfterLeave:x},{default:u(()=>[$(d("div",{ref_key:"tipRef",ref:a,class:S(`v-tip v-tip-${t.type}`),onMouseenter:i,onMouseleave:n},[z,d("div",U,p(t.message),1)],34),[[b,o.value]])]),_:1}))}},Z=({message:t="",title:s="\u786E\u8BA4",dangerouslyUseHTMLString:a=!1})=>new Promise((o,e)=>{function l(i){i===1?o(i):e(i)}const r=document.createElement("div"),n=T(q,{message:t,title:s,dangerouslyUseHTMLString:a,onConfirm:l,root:r});f(n,r),document.body.appendChild(r.firstElementChild)}),j=({message:t,type:s="warn",duration:a})=>{if(!t)return;({warn:!0,success:!0,error:!0,info:!0})[s]||(s="warn");const e=document.createElement("div"),l=T(D,{message:t,type:s,duration:a,root:e});f(l,e),document.body.appendChild(e.firstElementChild)};export{Z as c,j as t};
